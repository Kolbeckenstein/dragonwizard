# DragonWizard Environment Configuration
# Copy this file to .env and fill in your actual values
#
# Variable naming convention: SECTION__FIELD (double underscore = nested setting)
# All settings have sensible defaults — only uncomment/change what you need.

# ============================================================================
# General
# ============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO
# LOG_FILE=logs/dragonwizard.log


# ============================================================================
# Discord Bot  (required to run the bot)
# ============================================================================
# Get your token at: https://discord.com/developers/applications
# Enable the "Message Content Intent" in the Bot section.
BOT__TOKEN=your-discord-bot-token-here

# Dev guild: syncs slash commands to this server instantly (~1s) instead of
# globally (~1 hour). Set this to your test server's ID during development.
# BOT__DEV_GUILD_ID=123456789012345678

# Channel restriction: if set, the bot only responds in the listed channel IDs.
# Leave unset to allow responses in all channels.
# BOT__ALLOWED_CHANNEL_IDS=[111111111111111111, 222222222222222222]

# Display name and legacy prefix (the prefix is unused in slash-command mode).
# BOT__NAME=DragonWizard
# BOT__COMMAND_PREFIX=!


# ============================================================================
# LLM  (required for /ask responses)
# ============================================================================
# LiteLLM model string: "<provider>/<model-name>"
# Examples:
#   anthropic/claude-sonnet-4-6
#   openai/gpt-4o
#   ollama/llama3   (no API key needed for local models)
LLM__MODEL=anthropic/claude-sonnet-4-6
LLM__MAX_TOKENS=1024
LLM__TEMPERATURE=0.3

# API key for the chosen provider.
# Anthropic: https://console.anthropic.com/
# OpenAI:    https://platform.openai.com/api-keys
LLM__API_KEY=sk-ant-your-api-key-here


# ============================================================================
# RAG — retrieval-augmented generation
# ============================================================================
# Storage paths (relative to working directory, or absolute)
# RAG__VECTOR_DB_PATH=data/vector_db
# RAG__PROCESSED_DATA_PATH=data/processed

# ChromaDB collection to query. Useful when you have multiple ingestion runs
# (e.g. baseline vs col_stat). Override per-run with --collection on the CLI.
# RAG__COLLECTION_NAME=dragonwizard

# Retrieval tuning
# RAG__DEFAULT_K=5               # chunks returned per query
# RAG__CHUNK_SIZE=512            # target tokens per chunk
# RAG__CHUNK_OVERLAP=50          # overlap between adjacent chunks
# RAG__SCORE_THRESHOLD=          # minimum similarity score (leave blank = no filter)

# Local embeddings (Sentence Transformers — no API key required)
# Model is downloaded automatically on first use (~90 MB, cached in ~/.cache).
# RAG__EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
# RAG__EMBEDDING_DEVICE=cpu      # or "cuda" if you have a GPU
# RAG__EMBEDDING_BATCH_SIZE=32

# OCR fallback for scanned PDF pages (requires tesseract-ocr to be installed)
# RAG__OCR_ENABLED=true


# ============================================================================
# Tools
# ============================================================================
# Path to the MCP dice server entry point.
# Required for:  /roll slash command  +  LLM dice-rolling mid-answer
# The server lives in the external/dice-rolling-mcp submodule.
#
# NOTE: ToolSettings uses env_prefix="TOOL_" (single underscore), so these
# vars use ONE underscore after TOOL, unlike the double-underscore used by
# BOT__, LLM__, and RAG__ settings.
#
# TOOL_DICE_SERVER_PATH=external/dice-rolling-mcp/dist/index.js


# ============================================================================
# Feature Flags  (all off by default — future features)
# ============================================================================
# FEATURE__CHARACTER_SHEETS=false
# FEATURE__CAMPAIGN_CONTEXT=false
# FEATURE__SESSION_MEMORY=false
